# TechWise（ソフィーちゃん）UI設計書

## 1. 全体デザイン指針

### カラーパレット
- **メインカラー**: #6366F1 (知的で落ち着いたインディゴ)
- **サブカラー**: #8B5CF6 (神秘的なパープル - ソフィーちゃんカラー)
- **アクセントカラー**: #F59E0B (発見の喜びを表すアンバー)
- **ベースカラー**: #F8FAFC (図書館の静謐さを表すライトグレー)
- **テキストカラー**: #1E293B (読書に適したダークグレー)

### フォント・UI方針
- **フォント**: Noto Sans JP + Noto Serif JP (技術書らしい可読性)
- **デザインテイスト**: 知的・落ち着き・親しみやすさ・図書館的
- **レスポンシブ**: 読書体験を重視したモバイルファースト
- **キャラクター**: ソフィーちゃん（青髪司書）をアイコン・アバターで活用

## 2. 共通コンポーネント設計

### ヘッダー
```
[TechWise Logo + ソフィーアイコン] | [本を探す] [マイライブラリ] [ソフィーと相談] | [他サービス ▼] | [ユーザー名 ▼]
```

### フッター
```
© 2025 TechWise | 蔵書について | ソフィーちゃんについて | お問い合わせ
```

### 共通要素
- **ボタン**: 本らしい角丸、ページめくり風アニメーション
- **カード**: 本の表紙風デザイン、影でリアリティ演出
- **検索バー**: 図書館カード風デザイン、拡張アニメーション

## 3. 画面一覧表

| 画面ID | 画面名 | 概要 | 優先度 |
|--------|--------|------|--------|
| TW01 | ホーム・ダッシュボード | 推薦書籍・最新情報 | 高 |
| TW02 | 書籍検索 | 技術書検索・フィルタ | 高 |
| TW03 | 書籍詳細 | 詳細情報・レビュー | 高 |
| TW04 | ソフィーとの対話 | AI司書相談機能 | 高 |
| TW05 | マイライブラリ | お気に入り・読書履歴 | 中 |
| TW06 | 推薦結果一覧 | 検索・推薦結果表示 | 中 |
| TW07 | レビュー・評価 | 書籍レビュー投稿 | 低 |

## 4. 画面遷移図

```
[ホーム (TW01)]
    ↓
[書籍検索 (TW02)] ← → [ソフィーとの対話 (TW04)]
    ↓                      ↓
[推薦結果一覧 (TW06)] → [書籍詳細 (TW03)]
    ↓                      ↓
[マイライブラリ (TW05)] ← [レビュー・評価 (TW07)]
```

## 5. 個別画面設計書

### TW01: ホーム・ダッシュボード

#### レイアウト構成
```
[ヘッダー]
[ヒーローセクション: ソフィーちゃん + 検索バー]
[3カラムレイアウト]
├ 左: あなたへの推薦
├ 中: 新着・人気書籍
└ 右: カテゴリ別ランキング
[ソフィーからのメッセージ]
[フッター]
```

#### 機能要素
- **ソフィーちゃんアバター**: アニメーション付き、表情変化
- **メイン検索**: インテリジェント検索、サジェスト機能
- **パーソナル推薦**: ユーザーの興味に基づく3-5冊表示
- **新着情報**: 最新追加書籍のカルーセル
- **クイックカテゴリ**: Web開発・AI・DevOps・設計等

#### UI詳細
- ヒーローエリア高さ: 300px
- ソフィーアバター: 120px × 120px、円形
- 書籍カード: 160px × 220px、表紙画像中心

### TW02: 書籍検索画面

#### レイアウト構成
```
[ヘッダー]
[検索バー + 詳細検索展開ボタン]
[詳細検索パネル（展開式）]
├ カテゴリ選択
├ 発行年・出版社
├ 難易度・対象レベル
└ 評価・レビュー数
[ソフィーのアドバイス吹き出し]
[検索実行ボタン]
[フッター]
```

#### 機能要素
- **自然言語検索**: "初心者向けのReact本" 等の柔軟検索
- **ファセット検索**: カテゴリ・難易度・年代等の複合条件
- **ソフィーアシスト**: 検索条件の提案・絞り込みアドバイス
- **検索履歴**: 過去の検索パターン保存

#### UI詳細
- 検索バー: 全幅、プレースホルダーアニメーション
- 詳細検索: アコーディオン式、スムーズ展開
- ソフィー吹き出し: 動的テキスト、親しみやすい口調

### TW03: 書籍詳細画面

#### レイアウト構成
```
[ヘッダー]
[2カラムレイアウト]
├ 左: 書籍情報
│   ├ 表紙画像（大）
│   ├ 基本情報
│   ├ 目次・概要
│   └ アクションボタン
└ 右: レビュー・推薦
    ├ 評価サマリー
    ├ ソフィーの解説
    ├ ユーザーレビュー
    └ 関連書籍
[フッター]
```

#### 機能要素
- **詳細情報**: 出版社・ISBN・ページ数・難易度・対象レベル
- **ソフィー解説**: この本の特徴・どんな人におすすめか
- **評価システム**: 5段階評価 + タグベース評価
- **関連推薦**: "この本を読んだ人はこちらも" アルゴリズム
- **アクション**: お気に入り追加・読書記録・シェア

#### UI詳細
- 表紙画像: 240px × 320px、影付きリアル表示
- 評価表示: 星+数値+分布グラフ
- ソフィー解説: 専用デザインボックス、アイコン付き

### TW04: ソフィーとの対話画面

#### レイアウト構成
```
[ヘッダー]
[チャットインターフェース]
├ ソフィーアバター（左側固定）
├ 対話履歴エリア
├ 推薦書籍カード（インライン表示）
└ 入力エリア
[よくある質問（クイック選択）]
[フッター]
```

#### 機能要素
- **自然対話**: "Pythonを学びたい初心者です" 等の相談
- **コンテキスト保持**: 会話の文脈を理解した推薦
- **インライン推薦**: 会話中に書籍カードを直接表示
- **音声対応**: 音声入力・読み上げ機能（将来拡張）
- **学習記録**: 相談履歴から学習傾向を分析

#### UI詳細
- チャットバブル: 吹き出し風、読みやすいフォント
- ソフィーアバター: 表情変化、タイピングアニメーション
- 書籍カード: チャット内埋め込み、クリックで詳細へ

### TW05: マイライブラリ画面

#### レイアウト構成
```
[ヘッダー]
[タブナビゲーション]
├ お気に入り
├ 読書中
├ 読了済み
└ 読書記録
[フィルタ・ソート機能]
[書籍グリッドビュー / リストビュー切り替え]
[読書統計・グラフ]
[フッター]
```

#### 機能要素
- **ステータス管理**: 読みたい・読書中・読了・中断
- **読書記録**: 開始日・終了日・メモ・評価
- **統計表示**: 月別読書冊数・カテゴリ別傾向
- **目標設定**: 年間読書目標・進捗管理
- **エクスポート**: 読書リストのCSV出力

#### UI詳細
- タブ: シンプル、アクティブ状態明確
- グリッドビュー: 3-4列、表紙中心
- リストビュー: 詳細情報表示、ソート対応

### TW06: 推薦結果一覧画面

#### レイアウト構成
```
[ヘッダー]
[検索クエリ表示 + ソフィーコメント]
[結果サマリー: "○○件見つかりました"]
[ソート・表示オプション]
[書籍リスト（ページネーション）]
├ 書籍カード × N
├ ソフィーのおすすめコメント
└ 関連度スコア表示
[関連する検索クエリ提案]
[フッター]
```

#### 機能要素
- **関連度表示**: なぜこの本が推薦されたかの説明
- **多様なソート**: 関連度・評価・発行年・人気度
- **ソフィーコメント**: 検索結果に対する司書としてのアドバイス
- **保存機能**: 検索結果をマイライブラリに一括保存
- **絞り込み**: 結果をさらに絞り込む条件指定

#### UI詳細
- 書籍カード: 横長レイアウト、表紙+詳細情報
- 関連度バー: 色分け、パーセンテージ表示
- ページネーション: 20件/ページ、無限スクロール対応

### TW07: レビュー・評価画面

#### レイアウト構成
```
[ヘッダー]
[書籍情報（読み取り専用）]
[評価入力]
├ 星評価（5段階）
├ タグ選択（わかりやすい・実践的・難しい等）
├ 読書期間・状況
└ 自由記述レビュー
[レビュー投稿ボタン]
[他の人のレビュー参考表示]
[フッター]
```

#### 機能要素
- **多面的評価**: 総合・わかりやすさ・実用性・最新性
- **プリセットタグ**: よく使われる評価観点をタグ化
- **読書コンテキスト**: 初心者向け・経験者向け等の視点
- **匿名/実名選択**: プライバシー設定
- **レビュー品質**: 有用性投票・ソフィーちゃんのコメント

#### UI詳細
- 星評価: 大きめ、クリック・ホバーアニメーション
- タグ選択: チップ式、複数選択可能
- テキストエリア: リッチエディタ、プレビュー機能

## 6. ソフィーちゃんキャラクター仕様

### ビジュアル設計
- **髪色**: 青髪（インディゴ〜水色グラデーション）
- **服装**: 図書館司書風（ベスト・眼鏡・本を持った姿）
- **表情パターン**: 笑顔・考え中・驚き・困り顔・ウインク
- **アニメーション**: 本をめくる・考えるポーズ・手を振る

### 性格・話し方
- **基本性格**: 知的・親切・少し天然・本好き
- **口調**: 丁寧語ベース、親しみやすい関西弁混じり
- **専門性**: 技術書に精通、学習アドバイスが得意
- **反応パターン**: 検索内容に応じた適切なアドバイス

## 7. 技術仕様

### フロントエンド
- **フレームワーク**: React.js + TypeScript
- **UIライブラリ**: Ant Design + カスタムコンポーネント
- **アニメーション**: Framer Motion
- **検索UI**: Algolia InstantSearch (リアルタイム検索)

### AI・検索機能
- **RAGシステム**: 既存の PostgreSQL + pgvector + OpenAI統合
- **ハイブリッド検索**: ベクター検索 + 全文検索
- **推薦エンジン**: 協調フィルタリング + コンテンツベース

### データ連携
- **書籍データ**: 国立国会図書館API + 独自データベース
- **ユーザーデータ**: 読書履歴・評価・設定の永続化
- **ソフィーAI**: Claude API統合による自然対話

## 8. 実装優先度

### Phase 1 (MVP)
- TW01: ホーム・ダッシュボード
- TW02: 書籍検索  
- TW03: 書籍詳細
- TW04: ソフィーとの対話（基本版）

### Phase 2
- TW05: マイライブラリ
- TW06: 推薦結果一覧
- ソフィーちゃんキャラクター強化

### Phase 3  
- TW07: レビュー・評価
- 音声対話機能
- モバイルアプリ化
- 蔵書データ大幅拡充（300冊→1000冊）

## 9. UX設計思想

### 図書館体験の再現
- **静謐な環境**: 落ち着いた色彩・ノイズレスデザイン
- **発見の喜び**: セレンディピティを演出する推薦システム
- **司書の存在**: ソフィーちゃんによる人間味のあるサポート

### 学習支援の最適化
- **学習段階に応じた推薦**: 初心者→中級者→上級者の成長パス
- **実務との連動**: 現在の業務・プロジェクトに関連する書籍発見
- **継続性の支援**: 読書習慣の可視化・モチベーション維持
